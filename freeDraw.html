<!DOCTYPE html>
<html>
    <head>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <style>
            html {
                font-family: sans-serif;
            }
            h1 {
                text-align: center;
                font-size: 30px;
            }
            .buttons {
                margin: 0 10%;
            }
            hr {
                margin-bottom: 0;
                opacity: 50%;
            }
        </style>
    </head>
    <body>
        <h1>CS50 Beyond Draw</h1>
        <div class="buttons">
            <input id="erase" value="Erase" type="submit">
            <hr>
        </div>
        <svg id="svg" style="width:100%; height: 800px"></svg>
    </body>
    <script>

        // Select the canvas and set drawing boolean logic
        const svg = d3.select('#svg');
        let drawing = false;

        // Drawing logic
        function draw_point() {
            if (!drawing)
                return;

            const coords = d3.mouse(this);

            svg.append('circle')
               .attr('cx', coords[0])
               .attr('cy', coords[1])
               .attr('r', 5)
               .style('fill', 'black');
        };

        // Detect mouse states
        svg.on('mousedown', () => {
            drawing = true;
        });
        svg.on('mouseup', () => {
            drawing = false;
        });
        svg.on('mousemove', draw_point);

        // If erase button is pressed, erase everything
        document.querySelector("#erase").onclick = () => {
            d3.select("#svg").selectAll("*").remove();
        }

    </script>
</html>
